(function(t){function e(e){for(var n,s,l=e[0],o=e[1],u=e[2],d=0,h=[];d<l.length;d++)s=l[d],i[s]&&h.push(i[s][0]),i[s]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);c&&c(e);while(h.length)h.shift()();return r.push.apply(r,u||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,l=1;l<a.length;l++){var o=a[l];0!==i[o]&&(n=!1)}n&&(r.splice(e--,1),t=s(s.s=a[0]))}return t}var n={},i={app:0},r=[];function s(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/ccu-gcau/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],o=l.push.bind(l);l.push=e,l=l.slice();for(var u=0;u<l.length;u++)e(l[u]);var c=o;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},1344:function(t,e,a){"use strict";var n=a("2525"),i=a.n(n);i.a},2525:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var n=a("2b0e"),i=a("bb71"),r=(a("da64"),a("c0a4")),s=a.n(r);n["a"].use(i["a"],{theme:{primary:s.a.purple,secondary:s.a.blue,accent:s.a.shades.black,error:s.a.red.accent3}});var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-content",[a("main-contents")],1)],1)},o=[],u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{class:{"py-0":t.isScrolledDown},attrs:{"px-0":""}},[a("v-layout",{attrs:{"justify-center":""}},[a("v-flex",{attrs:{xs12:"",lg11:"",xl7:""}},[a("div",{ref:"header",class:{headerMargin:!t.isScrolledDown}},[a("v-toolbar",[a("v-toolbar-title",{staticClass:"headline text-uppercase"},[a("span",[t._v("CCU>GCAU")]),a("span",{staticClass:"font-weight-light"},[t._v("Config. translator")])])],1),a("v-container",{class:{hide:t.isScrolledDown},attrs:{"pa-0":""}},[a("v-layout",{attrs:{"justify-center":""}},[a("v-flex",{attrs:{xs2:""}},[a("v-btn",{attrs:{small:""},on:{click:function(e){return t.$refs.inputUpload.click()}}},[t._v("Load")]),a("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"inputUpload",attrs:{type:"file",accept:".tdsa, .tdsn"},on:{change:t.loadTds}})],1),a("v-flex",{attrs:{xs2:""}},[a("v-btn",{attrs:{small:""},on:{click:function(e){return t.saveOutputFile()}}},[t._v("Save")]),a("a",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"outputSave",attrs:{href:"",download:"sample.agc"}},[t._v("Save")])],1)],1)],1)],1),a("div",{ref:"tabBar",class:{tabBarFixed:t.tabBarFixed},style:{left:t.tabBarDynamicLeftOffset+"px"}},[a("v-tabs",{on:{change:t.menuItemSelect}},[a("v-tab",[t._v("Admin")]),a("v-tab",[t._v("System")]),a("v-tab",[t._v("Alarms")])],1)],1),a("div",{class:{hide:!t.tabBarFixed}},[a("v-tabs",[a("v-tab"),a("v-tab"),a("v-tab")],1)],1),a("div",{ref:"contentFrame"},[a("v-tabs",{attrs:{height:"0"},model:{value:t.menuItemSelected,callback:function(e){t.menuItemSelected=e},expression:"menuItemSelected"}},[a("v-tab"),a("v-tab"),a("v-tab"),a("v-tab-item",[a("vyw-admin",{attrs:{tdsFileName:t.tdsFileName,contentsAltered:t.contentsAltered}})],1),a("v-tab-item",[a("vyw-system")],1),a("v-tab-item",[a("vyw-alarms")],1)],1),a("vyw-react-test")],1)])],1)],1)},c=[],d=(a("f559"),a("7f7f"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",[a("v-container",{attrs:{"pt-3":""}},[a("v-layout",{attrs:{"text-xs-center":"","align-content-center":"",wrap:""}},[a("v-flex",{attrs:{"px-1":""}},[a("v-container",{attrs:{"pa-0":""}},[a("v-layout",{attrs:{column:""}},[a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.tdsFileName.length>0,expression:"tdsFileName.length>0"}],attrs:{"pb-3":"","text-xs-left":"","pl-0":""}},[a("v-card",{staticClass:"black--text",attrs:{color:"blue-grey lighten-4"}},[a("v-card-text",{staticClass:"pl-2 elevation-6"},[a("span",{staticClass:"font-italic"},[t._v("Imported file:")]),t._v("  \n                    "),a("span",{staticClass:"body-2 blue-grey--text text-darken-4"},[t._v(t._s(t.tdsFileName))]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.contentsAltered,expression:"contentsAltered"}]},[t._v("\n                       \n                      "),a("v-icon",{attrs:{small:""}},[t._v("star")]),a("v-icon",{attrs:{small:""}},[t._v("star")])],1)])],1)],1),a("v-flex",[a("vyw-text-input",{attrs:{"data-key":"Text_Projet",label:"Project",hint:"Main reference","on-changed":t.valueChanged}})],1),a("v-flex",[a("vyw-text-input",{attrs:{"data-key":"Text_Nom",label:"Name",hint:"Project manager","on-changed":t.valueChanged}})],1),a("v-flex",[a("vyw-text-input",{attrs:{"data-key":"Text_Commande",label:"Order","on-changed":t.valueChanged}})],1),a("v-flex",[a("vyw-text-input",{attrs:{"data-key":"Text_Origine",label:"Origin","on-changed":t.valueChanged}})],1)],1)],1)],1),a("v-flex",{attrs:{xs12:"",sm6:"","px-1":""}},[a("v-container",{attrs:{"pa-0":""}},[a("v-layout",{attrs:{column:""}},[a("v-flex",[a("vyw-text-area",{attrs:{"data-key":"Edit_COMMENT",label:"Notes",hint:"project notes/comments","on-changed":t.valueChanged}})],1)],1)],1)],1)],1)],1)],1)],1)}),h=[],m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-textarea",{attrs:{label:t.label,hint:t.hint,"no-resize":!0,box:""},on:{change:t.changed},model:{value:t.editedValue,callback:function(e){t.editedValue=e},expression:"editedValue"}})},p=[],f=a("7618"),v=(a("4917"),a("a481"),a("28a5"),a("456d"),a("ac6a"),a("6b54"),a("75fc")),y=a("1b3b"),b=a.n(y),x=a("bc3a"),g=a.n(x),w={},V=(new b.a,{}),_=new b.a,N=[],C=new n["a"]({methods:{dataChanged:function(t){this.$emit("item-should-update",t)}}}),T={languages:["English","Dutch","Spanish","Italian","Finnish","Swedish","French","German","Slovakian","USA","Norwegian","Portuguese"],relayNumbers:Object(v["a"])(Array(17)).map(function(t,e){return e.toString()})},S=!1;function O(){!1===S&&(Object.keys(w).forEach(function(t){V[t]=null,_.addProperty(V,t),N.push(t)}),S=!0)}var I={testKey:"Text_Projet",testValue:"???"};function k(t){var e,a,n,i=t.toString().split("\n"),r=/<Label>(.*)<\/Label>/i,s=/<Donnee>(.*)<\/Donnee>/i,l=/<Donnee>(.*)/i,o=/(.*)<\/Donnee>/i,u=/(\d*),(\d*)/,c=/\s*$/;i.forEach(function(t){var i=t.replace(c,""),d=i.match(r);d&&(e=d[1],n=!1);var h=i.match(s);if(h){if(a=h[1],e.startsWith("Check_")&&"true"!==a&&"false"!==a&&(a="1"===a?"true":"false"),"float"===w[e].P0Type){var m=a.match(u);m&&(a="".concat(m[1],".").concat(m[2]))}_[e]=a}else{var p=i.match(l);if(p)a=p[1],n=!0;else if(n){var f=i.match(o);f?(n=!1,_[e]="".concat(a,"\r").concat(f[1])):a="".concat(a,"\r").concat(i)}}})}Object.keys(I).forEach(function(t){_.addProperty(I,t,"meta_".concat(t))}),g.a.get("./TDSP0APPMap.tsv").then(function(t){for(var e,a,n=t.data,i=n.split("\n"),r=i[0].replace(/\r$/,"").split("\t"),s=1;s<i.length;s++){a={};for(var l=i[s].replace(/\r$/,"").split("\t"),o=0;o<r.length;o++)a[r[o]]=l[o],"TDSTag"===r[o]&&(e=l[o]);e.length>0&&!1===e.startsWith("x--")&&(w[e]=a)}O(),xe(),g.a.get("./template.tdsa").then(function(t){k(t.data)})}).catch(function(t){document.getElementById("app").innerHTML="panic: cannot initialize app from definition files like TDSP0APPMap.tsv or template.tdsa",console.log(t)});var L={created:function(){_.$watchers[this.dataKey].push(this.reactOnNewData.bind(this)),this.reactOnNewData(_[this.dataKey])},beforeDestroy:function(){for(var t=this.reactOnNewData.bind(this),e=_.$watchers[this.dataKey],a=0;a<e.length;a++)if(e[a]===t){e.splice(a,1);break}}},E={methods:{valueChanged:function(t){var e=void 0!==t.index?" (index: ".concat(t.index,")"):"";console.log("new value for '".concat(t.dataKey,"' => '").concat(t.value,"'").concat(e,": ").concat(Object(f["a"])(t.value))),C.dataChanged(t)}}},F={props:{dataKey:{type:String,requied:!0},label:String,hint:String,onChanged:{type:Function,default:function(){}}},data:function(){return{editedValue:void 0}},methods:{changed:function(){"function"===typeof this.onChanged&&this.onChanged({dataKey:this.dataKey,value:this.editedValue})},reactOnNewData:function(t){this.editedValue=t}},mixins:[L]},A=F,M=a("2877"),j=a("6544"),D=a.n(j),R=a("a844"),B=Object(M["a"])(A,m,p,!1,null,"05f2bb18",null),K=B.exports;D()(B,{VTextarea:R["a"]});var P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-text-field",{attrs:{label:t.label,box:"",suffix:t.suffix,error:t.error,"error-messages":t.errorMessages,hint:t.hint,counter:t.maxLength,maxLength:t.maxLength},on:{change:t.changed,input:t.input},model:{value:t.editedValue,callback:function(e){t.editedValue=e},expression:"editedValue"}})},$=[],H=(a("c5f6"),{props:{dataKey:{type:String,requied:!0},filter:Function,maxChars:[Number,String],mask:String,label:String,suffix:String,hint:String,onChanged:{type:Function,default:function(){}}},data:function(){return{editedValue:void 0,lastCorrectValue:void 0,initialValue:void 0,error:!1,errorMessages:[]}},computed:{maxLength:function(){if(!isNaN(this.maxChars)){var t=Math.round(Number(this.maxChars));return t>0?t:void 0}},test:function(){return"function"===typeof this.filter?this.filter:function(){return!1}}},methods:{input:function(){var t=this.test(this.editedValue);!1===t?(this.lastCorrectValue=this.editedValue,this.error=!1,this.errorMessages=[]):(this.error=!0,this.errorMessages=[t.errorMessage])},changed:function(){var t=this.editedValue,e=this.test(t);!1!==e&&("undefined"!==typeof e.filteredValue?t=e.filteredValue:"undefined"!==typeof this.lastCorrectValue&&(t=this.initialValue),this.editedValue=t,this.input()),"function"===typeof this.onChanged&&this.onChanged({dataKey:this.dataKey,value:t})},reactOnNewData:function(t){this.initialValue=t,this.editedValue=t}},mixins:[L]}),U=H,W=a("2677"),q=Object(M["a"])(U,P,$,!1,null,"47dc4f2d",null),z=q.exports;D()(q,{VTextField:W["a"]});var G={props:{tdsFileName:String,contentsAltered:Boolean},components:{VywTextArea:K,VywTextInput:z},mixins:[E]},J=G,Y=a("b0af"),X=a("99d9"),Q=a("a523"),Z=a("0e8f"),tt=a("132d"),et=a("a722"),at=Object(M["a"])(J,d,h,!1,null,"85cc4606",null),nt=at.exports;D()(at,{VCard:Y["a"],VCardText:X["a"],VContainer:Q["a"],VFlex:Z["a"],VIcon:tt["a"],VLayout:et["a"]});var it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-container",{attrs:{"pt-3":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"","px-1":"","align-content-center":""}},[a("v-container",{attrs:{"pa-0":""}},[a("v-layout",{attrs:{column:""}},[a("v-flex",[a("vyw-select-input",{attrs:{"data-key":"Combo_LANGUE",label:"Language","item-list":t.selectChoices.languages,hint:"local language","on-changed":t.valueChanged}})],1),a("v-flex",[a("vyw-numeric-input",{attrs:{"data-key":"Edit_ENV_TA",label:"Room temperature",suffix:"C",bottom:Number(-30),top:Number(60),hint:"[-30; +60]","on-changed":t.valueChanged}})],1),a("v-flex",[a("vyw-numeric-input",{attrs:{"data-key":"Edit_ENV_ALT",label:"Altitude",suffix:"m",bottom:Number(0),top:Number(8e3),hint:"[0-8,000]","on-changed":t.valueChanged}})],1),a("v-flex",[a("v-container",{attrs:{"pa-0":""}},[a("v-layout",{attrs:{"pa-0":"","justify-center":""}},[a("v-flex",{attrs:{xs5:""}},[a("vyw-switch",{attrs:{"data-key":"Check_SDM_TR",labels:["No AC meter","AC meter present"],"on-changed":t.valueChanged}})],1),a("v-flex",{attrs:{xs5:""}},[a("vyw-switch",{attrs:{"data-key":"Check_SDM_TU",labels:["No VLoad meter","VLoad meter present"],"on-changed":t.valueChanged}})],1)],1)],1)],1)],1)],1)],1),a("v-flex",{attrs:{xs12:"",sm6:"","px-1":""}},[a("v-container",{attrs:{"pa-0":""}},[a("v-layout",{attrs:{column:""}},[a("v-flex",[a("vyw-numeric-input",{attrs:{"data-key":"Edit_DEF_TDFLPE",label:"Vfloat per cell",suffix:"V",bottom:Number(1),top:Number(3),hint:"[1~3]","on-changed":t.valueChanged}})],1),a("v-flex",[a("vyw-numeric-input",{attrs:{"data-key":"Edit_DEF_CET2",label:"Temperature compensation",suffix:"%/C",bottom:Number(.1),top:Number(.4),hint:"[0.1~0.4]","on-changed":t.valueChanged}})],1),a("v-flex",[a("vyw-numeric-input",{attrs:{"data-key":"Edit_SHUNT_CN",label:"Battery current",suffix:"Amps",bottom:Number(1),top:Number(9999),hint:"[1~9,999]","on-changed":t.valueChanged}})],1)],1)],1)],1)],1)],1)],1)},rt=[],st=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-text-field",{attrs:{label:t.label,box:"",light:"",suffix:t.suffix,error:t.error,"error-messages":t.errorMessages,hint:t.hint},on:{change:t.changed,input:t.input},model:{value:t.editedValue,callback:function(e){t.editedValue=e},expression:"editedValue"}})},lt=[],ot={props:{dataKey:{type:String,requied:!0},scale:{type:Number,default:1},bottom:[Number,String],top:[Number,String],maxPrecision:{type:Number,default:5},label:String,suffix:String,hint:String,onChanged:{type:Function,default:function(){}}},data:function(){return{editedValue:void 0,initialValue:void 0,isNumber:!1,error:!1,errorMessages:[]}},computed:{min:function(){return isNaN(this.bottom)?void 0:Number(this.bottom)},max:function(){return isNaN(this.top)?void 0:Number(this.top)}},methods:{test:function(){var t=Number(this.editedValue);return isNaN(t)?{msg:"Not a number!",def:this.initialValue}:void 0!==this.min&&t<this.min?{msg:"Too small (minimum: ".concat(this.min,")!"),def:this.min}:void 0!==this.max&&t>this.max?{msg:"Too large (maximum: ".concat(this.max,")!"),def:this.max}:(this.initialValue=t,!1)},applyPrecision:function(t){var e=Math.round(Number(this.maxPrecision));return!isNaN(e)&&e>0?Number(t.toPrecision(this.maxPrecision)):t},input:function(){var t=this.test();!1===t?(this.error=!1,this.errorMessages=[]):(this.error=!0,this.errorMessages=[t.msg])},changed:function(){var t=this.test(),e=Number(this.editedValue);if(!1!==t&&(e=t.def),this.editedValue=e,this.input(),"function"===typeof this.onChanged){var a=this.applyPrecision(e/this.scale);this.onChanged({dataKey:this.dataKey,value:this.isNumber?a:a.toString()})}},reactOnNewData:function(t){var e=t;this.isNumber="number"===typeof e,e=isNaN(t)?0:this.applyPrecision(Number(t)*this.scale),this.initialValue=e,this.editedValue=e}},mounted:function(){if(this.scale<=0)throw this.$destroy(),this.$el.parentNode.removeChild(this.$el),"unsupported scale: ".concat(this.scale)},mixins:[L]},ut=ot,ct=Object(M["a"])(ut,st,lt,!1,null,"8cebd8c2",null),dt=ct.exports;D()(ct,{VTextField:W["a"]});var ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-select",{attrs:{label:t.label,items:t.itemList,box:"",hint:t.hint},on:{change:t.changed},model:{value:t.editedValue,callback:function(e){t.editedValue=e},expression:"editedValue"}})},mt=[],pt={props:{dataKey:{type:String,requied:!0},itemList:{type:Array,required:!0,validator:function(t){return t.every(function(t){return"string"===typeof t})}},label:String,hint:String,onChanged:{type:Function,default:function(){}}},data:function(){return{editedValue:void 0}},computed:{index:function(){return this.itemList instanceof Array?this.itemList.indexOf(this.editedValue):-1}},methods:{changed:function(){"function"===typeof this.onChanged&&this.onChanged({dataKey:this.dataKey,value:this.editedValue,index:this.index})},reactOnNewData:function(t){if(this.itemList instanceof Array)if(this.editedValue=this.itemList[0],"number"===typeof t){var e=Math.round(t),a=Math.max(0,Math.min(e,this.itemList.length-1));this.editedValue=this.itemList[a]}else"string"===typeof t&&this.itemList.indexOf(t)>=0&&(this.editedValue=t)}},mixins:[L]},ft=pt,vt=a("b56d"),yt=Object(M["a"])(ft,ht,mt,!1,null,"d4a22d0c",null),bt=yt.exports;D()(yt,{VSelect:vt["a"]});var xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-switch",{attrs:{label:t.label,box:"",hint:t.hint,color:t.colorWhenOn},on:{change:t.changed},model:{value:t.editedValue,callback:function(e){t.editedValue=e},expression:"editedValue"}})},gt=[],wt={props:{dataKey:{type:String,requied:!0},labels:{type:Array,required:!0,default:function(){return["off","on"]}},hint:String,colorWhenOn:String,onChanged:{type:Function,default:function(){}}},data:function(){return{editedValue:void 0,externalType:"boolean"}},computed:{label:function(){return this.labels[this.editedValue?1:0]},typedValue:function(){var t=this.editedValue;switch(this.externalType){case"number":return t?1:0;case"stringLiteral":return t?"true":"false";case"stringNumeric":return t?"1":"0";default:case"boolean":return t}}},methods:{changed:function(){"function"===typeof this.onChanged&&this.onChanged({dataKey:this.dataKey,value:this.typedValue})},reactOnNewData:function(t){switch(Object(f["a"])(t)){case"number":this.editedValue=0!==t,this.externalType="number";break;case"string":this.editedValue=-1===["false","0"].indexOf(t.toLowerCase()),this.externalType=isNaN(t)?"stringLiteral":"stringNumeric";break;case"boolean":this.editedValue=t,this.externalType="boolean";break;default:this.editedValue=!1;break}}},mixins:[L]},Vt=wt,_t=a("b73d"),Nt=Object(M["a"])(Vt,xt,gt,!1,null,"05184d90",null),Ct=Nt.exports;D()(Nt,{VSwitch:_t["a"]});var Tt={components:{VywNumericInput:dt,VywSelectInput:bt,VywSwitch:Ct},data:function(){return{selectChoices:T}},mixins:[E]},St=Tt,Ot=Object(M["a"])(St,it,rt,!1,null,"05de62be",null),It=Ot.exports;D()(Ot,{VCard:Y["a"],VContainer:Q["a"],VFlex:Z["a"],VLayout:et["a"]});var kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"pa-0":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-layout",{attrs:{column:""}},[a("v-flex",{attrs:{"pa-0":""}},[a("vyw-alarm",{attrs:{title:t.alarm1.title,params:t.alarm1.params}}),a("vyw-alarm",{attrs:{title:t.alarm2.title,params:t.alarm2.params}})],1)],1)],1),a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-layout",[a("v-flex",[a("vyw-alarm",{attrs:{title:t.alarm10.title,params:t.alarm10.params}}),a("vyw-alarm",{attrs:{title:t.alarm11.title,params:t.alarm11.params}}),a("vyw-alarm",{attrs:{title:t.alarm20.title,params:t.alarm20.params,isCommonAlarm:!0}})],1)],1)],1)],1)],1)},Lt=[],Et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-container",{attrs:{"pa-2":"","ma-2":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-container",{attrs:{"pa-1":""}},[a("v-layout",{attrs:{wrap:"","justify-center":"","align-center":""}},[a("v-flex",{attrs:{xs6:"",md5:"","pl-4":""}},[a("vyw-switch",{attrs:{colorWhenOn:"success","data-key":t.params.enabledId,labels:t.enableLabels,"on-changed":t.valueChanged}})],1),t.hp("relayNbId")?a("v-flex",{attrs:{xs6:"",md7:"","pt-1":"","pb-0":"","px-1":""}},[a("vyw-default-select",{attrs:{"data-key":t.params.relayNbId,label:"Relay number","item-list":t.selectChoices.relayNumbers,hint:"0: no relay","on-changed":t.valueChanged}})],1):t._e(),t.hp("latch.relayId")&&t.isCommonAlarm?a("v-flex",{attrs:{"pr-1":"",xs4:""}},[a("vyw-switch",{attrs:{"data-key":t.params.latch.relayId,labels:["Relay latch: OFF","Relay latch: ON"],"on-changed":t.valueChanged}})],1):t._e()],1)],1)],1),t.hp("th1")||t.hp("th2")?a("v-flex",{attrs:{xs12:""}},[a("v-container",{attrs:{"py-0":"","pr-2":"","pl-0":""}},[a("v-layout",{attrs:{wrap:"","justify-space-around":""}},[a("v-flex",{class:{xs6:t.hp("th2"),xs9:!t.hp("th2")},attrs:{"pr-1":""}},[a("vyw-numeric-input",{attrs:{"data-key":t.params.th1.id,scale:void 0===t.params.th1.scale?void 0:Number(t.params.th1.scale),bottom:t.params.th1.min,top:t.params.th1.max,label:t.params.th1.title,suffix:t.params.th1.unit,hint:t.params.th1.hint,"on-changed":t.valueChanged}})],1),t.hp("th2")?a("v-flex",{attrs:{xs6:""}},[a("vyw-numeric-input",{attrs:{"data-key":t.params.th2.id,scale:void 0===t.params.th2.scale?void 0:Number(t.params.th2.scale),bottom:t.params.th2.min,top:t.params.th2.max,label:t.params.th2.title,suffix:t.params.th2.unit,hint:t.params.th2.hint,"on-changed":t.valueChanged}})],1):t._e()],1)],1)],1):t._e(),t.hp("text")?a("v-flex",{attrs:{xs12:""}},[a("v-container",{attrs:{"py-0":"","px-2":""}},[a("v-layout",{attrs:{wrap:"","justify-space-around":""}},[t.hp("latch.displayId")?a("v-flex",{attrs:{"pr-1":"",xs9:""}},[a("vyw-text-input",{attrs:{"data-key":t.params.text,label:"Text",hint:"16 characters, maximum",maxChars:"16","on-changed":t.valueChanged}})],1):t._e()],1)],1)],1):t._e(),!t.hp("latch")&&!t.hp("delayId")||t.isCommonAlarm?t._e():a("v-flex",{attrs:{xs12:""}},[a("v-container",{attrs:{"py-0":"","pr-2":"","pl-1":""}},[a("v-layout",{attrs:{wrap:"","justify-space-around":""}},[t.hp("latch.displayId")?a("v-flex",{attrs:{"pr-1":"",xs4:""}},[a("vyw-switch",{attrs:{"data-key":t.params.latch.displayId,labels:["Display latch: OFF","Display latch: ON"],"on-changed":t.valueChanged}})],1):t._e(),t.hp("latch.relayId")?a("v-flex",{attrs:{"pr-1":"",xs4:""}},[a("vyw-switch",{attrs:{"data-key":t.params.latch.relayId,labels:["Relay latch: OFF","Relay latch: ON"],"on-changed":t.valueChanged}})],1):t._e(),t.hp("delayId")?a("v-flex",{attrs:{xs4:""}},[a("vyw-integer-input",{attrs:{"data-key":t.params.delayId,stepper:{down:1,up:10,roundUp:!0},bottom:0,label:"Delay",suffix:"s",hint:"positive integer value","on-changed":t.valueChanged}})],1):t._e()],1)],1)],1)],1)],1)],1)},Ft=[],At=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-text-field",{attrs:{label:t.label,box:"",suffix:t.suffix,error:t.error,"error-messages":t.errorMessages,hint:t.hint,"append-icon":t.stepperIcon},on:{change:t.changed,input:t.input,"click:append":t.stpperIconClicked},model:{value:t.editedValue,callback:function(e){t.editedValue=e},expression:"editedValue"}})},Mt=[],jt={props:{dataKey:{type:String,requied:!0},scale:{type:Number,default:function(){return 1}},bottom:[Number,String],top:[Number,String],stepper:{type:Object,validator:function(t){return"undefined"===typeof t||"number"===typeof t.up&&"number"===typeof t.down}},label:String,suffix:String,hint:String,onChanged:{type:Function,default:function(){}}},data:function(){return{editedValue:void 0,initialValue:void 0,isNumber:!1,error:!1,errorMessages:[]}},computed:{min:function(){return isNaN(this.bottom)?void 0:this.numToInt(Number(this.bottom))},max:function(){return isNaN(this.top)?void 0:this.numToInt(Number(this.top))},stepperInc:function(){var t=this.stepper?this.stepper.up:void 0;if(void 0!==Object(f["a"])(t)&&!isNaN(t)){var e=Math.floor(Number(t));return e>0?e:void 0}},stepperDec:function(){var t=this.stepper?this.stepper.down:void 0;if(void 0!==Object(f["a"])(t)&&!isNaN(t)){var e=Math.floor(Number(t));return e>0?e:void 0}},stepperIcon:function(){return this.stepperInc&&this.stepperDec?"unfold_more":void 0}},methods:{test:function(){var t=Number(this.editedValue);return isNaN(t)?{msg:"Not a number!",def:this.initialValue}:0==this.isAnInt(Number(t))?{msg:"Only integer values!",def:this.numToInt(Number(t))}:void 0!==this.min&&Number(t)<this.min?{msg:"Too small (minimum: ".concat(this.min,")!"),def:this.min}:void 0!==this.max&&Number(t)>this.max?{msg:"Too large (maximum: ".concat(this.max,")!"),def:this.max}:(this.initialValue=t,!1)},input:function(){var t=this.test();!1===t?(this.error=!1,this.errorMessages=[]):(this.error=!0,this.errorMessages=[t.msg])},changed:function(){var t=this.test(),e=this.editedValue;!1!==t&&(e=t.def),this.editedValue=e,this.input();var a=e;(this.scale>=1.5||this.scale<=2/3)&&(a=Math.round(a*this.scale)),"function"===typeof this.onChanged&&this.onChanged({dataKey:this.dataKey,value:this.isNumber?a:a.toString()})},numToInt:function(t){return isNaN(t)?NaN:Math.round(t)},isAnInt:function(t){return 0==isNaN(t)&&Math.floor(t)===t},cropDown:function(t){return"number"===typeof this.min?Math.max(this.min,t):t},cropUp:function(t){return"number"===typeof this.max?Math.min(this.max,t):t},stpperIconClicked:function(t){var e=Number(this.editedValue);isNaN(e)||(t.offsetY>t.target.offsetHeight/2?e=this.cropDown(e-this.stepperDec):(e+=this.stepperInc,this.stepper.roundUp&&(e=Math.floor(e/this.stepperInc)*this.stepperInc),e=this.cropUp(e)),this.editedValue!==e&&(this.editedValue=e,this.changed()))},reactOnNewData:function(t){var e=t;this.isNumber="number"===typeof e,isNaN(t)?e="0":(e=Math.round(Number(t).toString()),(this.scale>=1.5||this.scale<=2/3)&&(e=Math.round(e/this.scale))),this.initialValue=e,this.editedValue=e}},mixins:[L],mounted:function(){if(this.scale<=0)throw this.$destroy(),this.$el.parentNode.removeChild(this.$el),"unsupported scale: ".concat(this.scale)}},Dt=jt,Rt=Object(M["a"])(Dt,At,Mt,!1,null,"09166b05",null),Bt=Rt.exports;D()(Rt,{VTextField:W["a"]});var Kt={name:"vyw-alarm",props:{title:String,params:Object,isCommonAlarm:Boolean},data:function(){return{selectChoices:T}},mixins:[E],methods:{hp:function(t){var e=t.split("."),a=e.reduce(function(t,e){return void 0!==t&&(t=t[e]),t},this.params);return void 0!==a}},computed:{enableLabels:function(){return["".concat(this.title," OFF"),"".concat(this.title," ON")]}},components:{VywTextInput:z,VywIntegerInput:Bt,VywNumericInput:dt,VywSwitch:Ct,VywDefaultSelect:bt}},Pt=Kt,$t=Object(M["a"])(Pt,Et,Ft,!1,null,"1d70c3aa",null),Ht=$t.exports;D()($t,{VCard:Y["a"],VContainer:Q["a"],VFlex:Z["a"],VLayout:et["a"]});var Ut={components:{VywAlarm:Ht},computed:{alarm1:function(){return{title:"Mains failure",params:{enabledId:"Check_TRTHOTB",relayNbId:"Combo_TRTHOTB_REL",delayId:"Edit_TRTHOTB_TEMP",latch:{displayId:"Check_TRTHOTB_AFF",relayId:"Check_TRTHOTB_REL"},th1:{id:"Edit_TRTHOTB_TMIN",title:"Minimum",unit:"Vac",hint:"threshold",min:90,max:900},th2:{id:"Edit_TRTHOTB_TMAX",title:"Maximum",unit:"Vac",hint:"threshold",min:90,max:900}}}},alarm2:function(){return{title:"High DC voltage",params:{enabledId:"Check_TUH",relayNbId:"Combo_TUH_REL",delayId:"Edit_TUH_TEMPS",latch:{displayId:"Check_TUH_AFF",relayId:"Check_TUH_REL"},th1:{id:"Edit_TUH_NH",title:"Minimum",unit:"Vdc",hint:"threshold",min:"16",max:"900"}}}},alarm10:function(){return{title:"Spare 1",params:{enabledId:"Check_R1",relayNbId:"Combo_R1_REL",delayId:"Edit_R1_TEMPS",latch:{displayId:"Check_R1_AFF",relayId:"Check_R1_REL"},text:"Edit_R1_TDA"}}},alarm11:function(){return{title:"Spare 2",params:{enabledId:"Check_R2",relayNbId:"Combo_R2_REL",delayId:"Edit_R2_TEMPS",latch:{displayId:"Check_R2_AFF",relayId:"Check_R2_REL"},text:"Edit_R2_TDA"}}},alarm20:function(){return{title:"Common alarm",params:{enabledId:"Check_AC",latch:{relayId:"Check_AC_REL"}}}}}},Wt=Ut,qt=Object(M["a"])(Wt,kt,Lt,!1,null,"ec32bc6e",null),zt=qt.exports;D()(qt,{VContainer:Q["a"],VFlex:Z["a"],VLayout:et["a"]});var Gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-content",[a("v-layout",{attrs:{"justify-center":""}},[a("v-flex",{attrs:{xs12:"",md8:"","pt-3":""}},[a("v-card",[a("v-container",{attrs:{"pb-0":""}},[a("v-layout",{attrs:{"justify-center":""}},[a("v-flex",{attrs:{"pt-2":""}},[a("v-chip",{attrs:{color:"red","text-color":"white"}},[t._v("Test")])],1),a("v-flex",{attrs:{xs4:"",sm4:"","px-1":""}},[a("vyw-select-input",{staticClass:"overflow-hidden",attrs:{"data-key":"meta_testKey",label:"data key","item-list":t.dataKeys,"on-changed":t.valueChanged}})],1),a("v-flex",{attrs:{xs4:""}},[a("vyw-text-input",{attrs:{"data-key":"meta_testValue",label:"data value","on-changed":t.valueChanged}})],1),a("v-flex",{attrs:{"px-1":""}},[a("v-btn",{on:{click:t.applyTest}},[t._v("Apply")])],1)],1)],1)],1)],1)],1)],1)},Jt=[],Yt={components:{VywTextInput:z,VywSelectInput:bt},data:function(){return{dataKeys:N}},mixins:[E],methods:{applyTest:function(){_[_.meta_testKey]=_.meta_testValue,console.log("new value for ".concat(_.meta_testKey,"=> ").concat(_.meta_testValue))}},created:function(){C.$on("item-should-update",function(t){_[t.dataKey]!==t.value&&(_[t.dataKey]=t.value),!1===t.dataKey.startsWith("meta_")&&(_["meta_testKey"]=t.dataKey,_["meta_testValue"]=t.value)})}},Xt=Yt,Qt=a("8336"),Zt=a("cc20"),te=a("549c"),ee=Object(M["a"])(Xt,Gt,Jt,!1,null,"7ade3a6e",null),ae=ee.exports;D()(ee,{VBtn:Qt["a"],VCard:Y["a"],VChip:Zt["a"],VContainer:Q["a"],VContent:te["a"],VFlex:Z["a"],VLayout:et["a"]});a("34ef"),a("3b2b");var ne=null;function ie(t,e){for(var a={type:"application/octet-stream"},n=e?t.replace(/\r\n/g,"\n").replace(/\n/g,"\r\n"):t,i=n.length,r=new ArrayBuffer(i),s=new Uint8Array(r),l=0;l<i;l++){var o=255&n.charCodeAt(l);s[l]=o}var u=new Blob([r],a);return null!==ne&&window.URL.revokeObjectURL(ne),ne=window.URL.createObjectURL(u),ne}var re={components:{VywAdmin:nt,VywSystem:It,VywAlarms:zt,VywReactTest:ae},data:function(){return{menuItemSelected:void 0,dataKeys:N,headerHeight:void 0,tabBarHeight:void 0,tabBarInitialLeftOffset:void 0,contentInitialLeftOffset:void 0,tabBarDynamicLeftOffset:void 0,isScrolledDown:!1,tabBarFixed:!1,tdsFileName:"",contentsAltered:!1}},methods:{menuItemSelect:function(t){this.menuItemSelected=t},onWindowScroll:function(){var t=document.documentElement.scrollHeight,e=window.innerHeight,a=window.scrollY;this.tabBarFixed=a>this.headerHeight,t-e>this.headerHeight?this.isScrolledDown=a>2:0===a&&(this.isScrolledDown=!1)},updateTabBarPosition:function(){this.tabBarDynamicLeftOffset=this.tabBarInitialLeftOffset+this.$refs["contentFrame"].getBoundingClientRect().left-this.contentInitialLeftOffset},loadTds:function(t){var e=this,a=t.target.files[0];if(a){var n=new FileReader;n.readAsText(a),n.onload=function(t){var n=t.target.result;k(n),e.tdsFileName=a.name,e.contentsAltered=!1}}},saveOutputFile:function(){for(var t="",e=0;e<500;e++)t+="this is line #".concat(e+1," of sample text...\n");this.$refs.outputSave.href=ie(t,!0),this.$refs.outputSave.click()}},created:function(){C.$on("item-should-update",function(t){_[t.dataKey]!==t.value&&(_[t.dataKey]=t.value),!1===t.dataKey.startsWith("meta_")&&(_["meta_testKey"]=t.dataKey,_["meta_testValue"]=t.value)})},mounted:function(){this.headerHeight=this.$refs["header"].offsetHeight,this.tabBarHeight=this.$refs["tabBar"].offsetHeight,this.tabBarInitialLeftOffset=this.$refs["tabBar"].getBoundingClientRect().left,this.tabBarDynamicLeftOffset=this.tabBarInitialLeftOffset,this.contentInitialLeftOffset=this.$refs["contentFrame"].getBoundingClientRect().left,this.updateTabBarPosition(),window.addEventListener("scroll",this.onWindowScroll),window.addEventListener("resize",this.updateTabBarPosition)},destroyed:function(){window.removeEventListener("scroll",this.onWindowScroll),window.removeEventListener("resize",this.updateTabBarPosition)}},se=re,le=(a("1344"),a("71a3")),oe=a("c671"),ue=a("fe57"),ce=a("71d9"),de=a("2a7f"),he=Object(M["a"])(se,u,c,!1,null,"989181a8",null),me=he.exports;D()(he,{VBtn:Qt["a"],VContainer:Q["a"],VFlex:Z["a"],VLayout:et["a"],VTab:le["a"],VTabItem:oe["a"],VTabs:ue["a"],VToolbar:ce["a"],VToolbarTitle:de["a"]});var pe={name:"App",components:{mainContents:me}},fe=pe,ve=a("7496"),ye=Object(M["a"])(fe,l,o,!1,null,"9eceb3aa",null),be=ye.exports;function xe(){new n["a"]({render:function(t){return t(be)}}).$mount("#app")}D()(ye,{VApp:ve["a"],VContent:te["a"]}),a.d(e,"initVue",function(){return xe}),n["a"].config.productionTip=!1}});
//# sourceMappingURL=app.7fce2240.js.map